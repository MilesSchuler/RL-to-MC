from PIL import Image
import numpy

class BlocksArray:
    blockTypes = [
"ancient_debris",
"andesite",
"polished_andesite",
"barrel",
"basalt",
"polished_basalt",
"smooth_basalt",
"beacon",
"bedrock",
"bee_nest",
"beehive",
"blackstone",
"polished_blackstone",
"polished_blackstone_bricks",
"cracked_polished_blackstone_bricks",
"chiseled_polished_blackstone",
"blast_furnace",
"amethyst_block",
"coal_block",
"copper_block",
"diamond_block",
"emerald_block",
"gold_block",
"iron_block",
"lapis_block",
"netherite_block",
"quartz_block",
"chiseled_quartz_block",
"quartz_bricks",
"quartz_pillar",
"raw_copper_block",
"raw_gold_block",
"raw_iron_block",
"redstone_block",
"blue_ice",
"bone_block",
"bookshelf",
"bricks",
"budding_amethyst",
"calcite",
"cartography_table",
"chorus_flower",
"clay",
"coal_ore",
"deepslate_coal_ore",
"coarse_dirt",
"cobbled_deepslate",
"polished_deepslate",
"deepslate_tiles",
"deepslate_bricks",
"chiseled_deepslate",
"cracked_deepslate_bricks",
"cracked_deepslate_tiles",
"cobblestone",
"mossy_cobblestone",
"command_block",
"repeating_command_block",
"chain_command_block",
"white_concrete",
"orange_concrete",
"magenta_concrete",
"light_blue_concrete",
"yellow_concrete",
"lime_concrete",
"pink_concrete",
"gray_concrete",
"light_gray_concrete",
"cyan_concrete",
"purple_concrete",
"blue_concrete",
"brown_concrete",
"green_concrete",
"red_concrete",
"black_concrete",
"white_concrete_powder",
"orange_concrete_powder",
"magenta_concrete_powder",
"light_blue_concrete_powder",
"yellow_concrete_powder",
"lime_concrete_powder",
"pink_concrete_powder",
"gray_concrete_powder",
"light_gray_concrete_powder",
"cyan_concrete_powder",
"purple_concrete_powder",
"blue_concrete_powder",
"brown_concrete_powder",
"green_concrete_powder",
"red_concrete_powder",
"black_concrete_powder",
"copper_ore",
"deepslate_copper_ore",
"dead_tube_coral_block",
"dead_brain_coral_block",
"dead_bubble_coral_block",
"dead_fire_coral_block",
"dead_horn_coral_block",
"tube_coral_block",
"brain_coral_block",
"bubble_coral_block",
"fire_coral_block",
"horn_coral_block",
"crafting_table",
"crying_obsidian",
"deepslate",
"diamond_ore",
"deepslate_diamond_ore",
"diorite",
"polished_diorite",
"dirt",
"rooted_dirt",
"dried_kelp_block",
"dripstone_block",
"emerald_ore",
"deepslate_emerald_ore",
"end_stone",
"end_stone_bricks",
"fletching_table",
"ochre_froglight",
"pearlescent_froglight",
"verdant_froglight",
"furnace",
"gilded_blackstone",
"glass",
"white_glazed_terracotta",
"orange_glazed_terracotta",
"magenta_glazed_terracotta",
"light_blue_glazed_terracotta",
"yellow_glazed_terracotta",
"lime_glazed_terracotta",
"pink_glazed_terracotta",
"gray_glazed_terracotta",
"light_gray_glazed_terracotta",
"cyan_glazed_terracotta",
"purple_glazed_terracotta",
"blue_glazed_terracotta",
"brown_glazed_terracotta",
"green_glazed_terracotta",
"red_glazed_terracotta",
"black_glazed_terracotta",
"glowstone",
"gold_ore",
"deepslate_gold_ore",
"granite",
"polished_granite",
"grass_block",
"gravel",
"hay_block",
"honeycomb_block",
"ice",
"iron_ore",
"deepslate_iron_ore",
"jack_o_lantern",
"jukebox",
"lapis_ore",
"deepslate_lapis_ore",
"oak_leaves",
"spruce_leaves",
"birch_leaves",
"jungle_leaves",
"acacia_leaves",
"dark_oak_leaves",
"mangrove_leaves",
"azalea_leaves",
"flowering_azalea_leaves",
"lodestone",
"oak_log",
"spruce_log",
"birch_log",
"jungle_log",
"acacia_log",
"dark_oak_log",
"mangrove_log",
"stripped_spruce_log",
"stripped_birch_log",
"stripped_jungle_log",
"stripped_acacia_log",
"stripped_dark_oak_log",
"stripped_oak_log",
"stripped_mangrove_log",
"loom",
"mangrove_roots",
"melon",
"moss_block",
"mud",
"mud_bricks",
"muddy_mangrove_roots",
"brown_mushroom_block",
"red_mushroom_block",
"mushroom_stem",
"mycelium",
"nether_bricks",
"red_nether_bricks",
"chiseled_nether_bricks",
"cracked_nether_bricks",
"nether_gold_ore",
"nether_quartz_ore",
"netherrack",
"note_block",
"warped_nylium",
"crimson_nylium",
"observer",
"obsidian",
"packed_ice",
"packed_mud",
"oak_planks",
"spruce_planks",
"birch_planks",
"jungle_planks",
"acacia_planks",
"dark_oak_planks",
"crimson_planks",
"mangrove_planks",
"warped_planks",
"podzol",
"prismarine",
"prismarine_bricks",
"dark_prismarine",
"pumpkin",
"carved_pumpkin",
"purpur_block",
"purpur_pillar",
"red_sand",
"red_sandstone",
"chiseled_red_sandstone",
"cut_red_sandstone",
"redstone_lamp",
"redstone_ore",
"deepslate_redstone_ore",
"reinforced_deepslate",
"respawn_anchor",
"sand",
"sandstone",
"chiseled_sandstone",
"cut_sandstone",
"sculk",
"sea_lantern",
"shroomlight",
"shulker_box",
"white_shulker_box",
"orange_shulker_box",
"magenta_shulker_box",
"light_blue_shulker_box",
"yellow_shulker_box",
"lime_shulker_box",
"pink_shulker_box",
"gray_shulker_box",
"light_gray_shulker_box",
"cyan_shulker_box",
"purple_shulker_box",
"blue_shulker_box",
"brown_shulker_box",
"green_shulker_box",
"red_shulker_box",
"black_shulker_box",
"slime_block",
"smithing_table",
"smoker",
"soul_soil",
"spawner",
"sponge",
"wet_sponge",
"white_stained_glass",
"orange_stained_glass",
"magenta_stained_glass",
"light_blue_stained_glass",
"yellow_stained_glass",
"lime_stained_glass",
"pink_stained_glass",
"gray_stained_glass",
"light_gray_stained_glass",
"cyan_stained_glass",
"purple_stained_glass",
"blue_stained_glass",
"brown_stained_glass",
"green_stained_glass",
"red_stained_glass",
"black_stained_glass",
"warped_stem",
"stripped_warped_stem",
"crimson_stem",
"stripped_crimson_stem",
"stone",
"smooth_stone",
"stone_bricks",
"mossy_stone_bricks",
"cracked_stone_bricks",
"chiseled_stone_bricks",
"target",
"white_terracotta",
"orange_terracotta",
"magenta_terracotta",
"light_blue_terracotta",
"yellow_terracotta",
"lime_terracotta",
"pink_terracotta",
"gray_terracotta",
"light_gray_terracotta",
"cyan_terracotta",
"purple_terracotta",
"blue_terracotta",
"brown_terracotta",
"green_terracotta",
"red_terracotta",
"black_terracotta",
"terracotta",
"tinted_glass",
"tnt",
"tuff",
"nether_wart_block",
"warped_wart_block",
"white_wool",
"orange_wool",
"magenta_wool",
"light_blue_wool",
"yellow_wool",
"lime_wool",
"pink_wool",
"gray_wool",
"light_gray_wool",
"cyan_wool",
"purple_wool",
"blue_wool",
"brown_wool",
"green_wool",
"red_wool",
"black_wool"
]
    
    def __init__(self) -> None:
        self.blocksPixels = self.blocksArray()
        self.blockInfo = (self.blocksPixels, self.blockTypes)
        
    def rgbValues(self, imageName: str):
        im = Image.open(imageName, "r")
        pixelValues = list(im.getdata())[:256]
        blockRGBValues = numpy.array([], dtype = numpy.uint8)
        for rgba in pixelValues:
            if type(rgba) is tuple:
                blockRGBValues = numpy.append(blockRGBValues, rgba[0])
                blockRGBValues = numpy.append(blockRGBValues, rgba[1])
                blockRGBValues = numpy.append(blockRGBValues, rgba[2])
            else:
                blockRGBValues = numpy.append(blockRGBValues, 0)
                blockRGBValues = numpy.append(blockRGBValues, 0)
                blockRGBValues = numpy.append(blockRGBValues, 0)

        return blockRGBValues

    def blocksArray(self):
        blocks = numpy.empty(shape = (len(self.blockTypes), 768), dtype = numpy.uint8)
        for i in range(len(self.blockTypes)):
            blockName = self.blockTypes[i]
            filepath = "./data/block/" + blockName + ".png"
            rgb = self.rgbValues(filepath)
            blocks[i] = rgb
        return blocks